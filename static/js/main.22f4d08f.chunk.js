(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{121:function(e,t,n){e.exports={preloader:"preloader_preloader__3qEnX",smallPreloader:"preloader_smallPreloader__3XE3o"}},162:function(e,t,n){e.exports={showAllPagesButton:"tabsNotes_showAllPagesButton__1XTxA",addNewPageButton:"tabsNotes_addNewPageButton__1bJA4",color:"tabsNotes_color__1gl_N"}},188:function(e,t,n){},189:function(e,t,n){},311:function(e,t,n){"use strict";n.r(t);var r=n(2),a=n(0),o=n.n(a),i=n(14),c=n.n(i),s=(n(188),n(189),n(38)),u=n.n(s),d=n(350),l=n(314),j=n(8),b=n(92),p=n(363),g=n(361),O=n(360),f=function(e){return(t=1e3,new Promise((function(e){return setTimeout(e,t)}))).then((function(){if(["foo@foo.com","bar@bar.com"].includes(e.email))throw{email:"Email already Exists"}}));var t},h=n(54),m=n(19),x=n(121),N=n.n(x),I=n.p+"static/media/preloader.4695b8d7.gif",_=function(e){return Object(r.jsx)("div",{className:N.a.smallPreloader,children:Object(r.jsx)("img",{src:I,alt:""})})},v=function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{type:"submit",disabled:e.pristine||e.submitting||e.isLoading,className:u.a.loginButton,children:e.isLoading?Object(r.jsx)(_,{}):"Login"}),Object(r.jsx)("div",{children:Object(r.jsx)(h.b,{variant:"contained",to:"/registration",children:"Go to registration"})})]})},E=function(e){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("button",{type:"submit",disabled:e.pristine||e.submitting||e.isLoading,className:u.a.regButton,children:e.isLoading?Object(r.jsx)(_,{}):"Registration"}),Object(r.jsx)("div",{children:Object(r.jsx)(h.b,{variant:"contained",to:"/login",children:"Go to login"})})]})},C=function(e){var t=e.label,n=e.input,a=e.meta,o=a.touched,i=a.invalid,c=a.error,s=Object(b.a)(e,["label","input","meta"]);return Object(r.jsx)(O.a,Object(j.a)(Object(j.a)({label:t,placeholder:t,error:o&&i,helperText:o&&c},n),s))},T=Object(g.a)({form:"MaterialUiForm",validate:function(e){var t={};return["login","password"].forEach((function(n){e[n]||(t[n]="Required")})),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address"),t},asyncValidate:f})((function(e){var t=e.handleSubmit,n=e.pristine,a=e.submitting;return Object(r.jsxs)("form",{onSubmit:t,children:[Object(r.jsx)("div",{children:Object(r.jsx)(p.a,{name:"login",component:C,label:"Login or E-mail"})}),Object(r.jsx)("div",{children:Object(r.jsx)(p.a,{name:"password",component:C,label:"Password"})}),Object(r.jsx)("div",{className:u.a.error,children:e.regOrLogErrorValue}),Object(r.jsxs)("div",{children:[Object(r.jsx)(m.b,{path:"/login",render:function(){return Object(r.jsx)(v,{pristine:n,submitting:a,isLoading:e.isLoading})}}),Object(r.jsx)(m.b,{path:"/registration",render:function(){return Object(r.jsx)(E,{pristine:n,submitting:a,isLoading:e.isLoading})}})]})]})})),w=n(13),P=n(161).create({baseURL:"https://thawing-earth-93038.herokuapp.com/myNotepad/",headers:{}}),M=function(e){return P.get("/me/"+e).then((function(e){return e.data}))},k=function(e,t){return P.post("/registration",{login:e,password:t}).then((function(e){return e.data}))},y=function(e,t){return P.patch("/login",{login:e,password:t}).then((function(e){return e.data}))},S=function(e){return P.patch("/logout",{userId:e}).then((function(e){return e.data}))},B=function(e){return P.get("/pages/"+e).then((function(e){return e.data}))},A=function(e,t){return P.post("/pages/"+e,{pageTitle:t}).then((function(e){return e.data}))},L=function(e,t,n,r){return P.patch("/pages/"+e,{pageId:t,tabColor:n,tabTextColor:r}).then((function(e){return e.data}))},F=function(e,t){return P.delete("pages/".concat(e,"/").concat(t)).then((function(e){return e.data}))},R=function(e,t,n){return P.patch("pages/editPageTitle/"+e,{pageId:t,newPageTitle:n}).then((function(e){return e.data}))},W=function(e,t,n){return P.post("/notes/"+e,{pageId:t,noteContent:n}).then((function(e){return e.data}))},G=function(e,t,n){return P.delete("notes/".concat(e,"/").concat(t,"/").concat(n)).then((function(e){return e.data}))},D=function(e,t,n,r,a){return P.patch("/notes/"+e,{pageId:t,noteId:n,noteColor:r,noteTextColor:a}).then((function(e){return e.data}))},V=function(e,t,n,r){return P.patch("notes/editNoteText/"+e,{pageId:t,noteId:n,newNoteText:r}).then((function(e){return e.data}))},q="IS_AUTH",H="REG_OR_LOG_ERROR",U="SET_LOADING",X="IS_REGISTER",J={userId:null,isAuth:!1,regOrLogErrorValue:null,isLoading:!1,isRegister:!1},Y=function(e,t){return{type:q,userId:e,isAuth:t}},Z=function(e){return{type:H,error:e}},z=function(e){return{type:U,isLoading:e}},K=function(e){return{type:X,isRegister:e}},$=function(){var e=localStorage.getItem("id");return function(t){M(e).then((function(e){e.id?(t(Y(e.id,!0)),t(z(!1))):(t(Y(null,!1)),t(z(!1)))}))}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(j.a)(Object(j.a)({},e),{},{userId:t.userId,isAuth:t.isAuth});case H:return Object(j.a)(Object(j.a)({},e),{},{regOrLogErrorValue:t.error});case U:return Object(j.a)(Object(j.a)({},e),{},{isLoading:t.isLoading});case X:return Object(j.a)(Object(j.a)({},e),{},{isRegister:t.isRegister});default:return e}},ee=function(e){return Object(r.jsx)("div",{className:u.a.modalWrapper,children:Object(r.jsxs)("div",{className:u.a.modal,children:[Object(r.jsx)("h2",{children:"Registration completed successfully, please login "}),Object(r.jsx)("button",{onClick:function(){e.setRegistrationModalWindow(!1)},children:"OK!"})]})})},te=Object(d.a)((function(e){return{root:{display:"flex",flexWrap:"no-wrap",justifyContent:"center",backgroundColor:"#defff2","& > *":{margin:e.spacing(3),width:e.spacing(100),height:e.spacing(100)}}}})),ne=Object(w.b)((function(e){return{regOrLogErrorValue:e.auth.regOrLogErrorValue,isLoading:e.auth.isLoading,isRegister:e.auth.isRegister}}),{registration:function(e,t){return function(n){n(z(!0)),k(e,t).then((function(e){"ok"===e.result?(n(K(!0)),n(Z(null))):(n(Z(e.error)),n(z(!1)))}))}},login:function(e,t){return function(n){n(z(!0)),y(e,t).then((function(e){"ok"===e.result?(localStorage.setItem("id",e.userId),n($()),n(Z(null))):(n(Z(e.error)),n(z(!1)))}))}},setRegistrationModalWindow:K})((function(e){var t=te(),n=function(t){e.login(t.login,t.password)},a=function(t){e.registration(t.login,t.password)};return e.isRegister?Object(r.jsx)(ee,{setRegistrationModalWindow:e.setRegistrationModalWindow}):Object(r.jsx)("div",{className:t.root,children:Object(r.jsxs)(l.a,{elevation:10,children:[Object(r.jsx)("h1",{className:u.a.formTitle,children:"MyNote"}),Object(r.jsx)("h2",{className:u.a.formTitle,children:"Log in or register"}),Object(r.jsx)(m.b,{path:"/login",render:function(){return Object(r.jsx)(T,{onSubmit:n,regOrLogErrorValue:e.regOrLogErrorValue,isLoading:e.isLoading})}}),Object(r.jsx)(m.b,{path:"/registration",render:function(){return Object(r.jsx)(T,{onSubmit:a,regOrLogErrorValue:e.regOrLogErrorValue,isLoading:e.isLoading})}}),Object(r.jsxs)(m.b,{exact:!0,path:"/",children:[" ",Object(r.jsx)(m.a,{to:"login"})," "]})]})})})),re=n(23),ae=n(354),oe=n(364),ie=n(358),ce=n(99),se=n(362),ue=n(349),de=n(315),le=n(359),je=n(21),be=n.n(je),pe=n(39),ge=n(40),Oe="isLoading/SET_PAGE_IS_CREATE",fe="isLoading/SET_NOTE_IS_CREATE",he={pageIsCreate:!0,noteIscreate:!0},me=function(e){return{type:Oe,isCreate:e}},xe=function(e){return{type:fe,isCreate:e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(j.a)(Object(j.a)({},e),{},{pageIsCreate:t.isCreate});case fe:return Object(j.a)(Object(j.a)({},e),{},{noteIscreate:t.isCreate});default:return e}},Ie="SET_PAGES_IN_STATE",_e="SET_EDIT_MODE",ve="SET_CREATE_NEW_PAGE_MODE",Ee="SET_NEW_PAGE_IN_STATE",Ce="SET_NEW_NOTE_IN_STATE",Te="SET_TAB_COLOR_EDIT_MODE",we="SET_TAB_COLOR",Pe="SET_NOTE_COLOR",Me="DELETE_PAGE",ke="DELETE_NOTE",ye="SET_NEW_PAGE_TITLE",Se="SET_NEW_NOTE_TEXT",Be={pages:[],editMode:!1,createNewPageMode:!1,tabColorEditMode:!1},Ae=function(e){return{type:_e,isActivate:e}},Le=function(e){return{type:ve,isActivate:e}},Fe=function(e,t){return{type:Ce,pageId:e,note:t}},Re=function(e){return{type:Te,isActivate:e}},We=function(e,t){return{type:we,pageId:e,page:t}},Ge=function(e){return{type:Me,pageId:e}},De=function(e,t){return{type:ke,pageId:e,noteId:t}},Ve=function(e,t,n){return{type:Pe,pageId:e,noteId:t,page:n}},qe=function(e,t){return{type:ye,pageId:e,newPageTitle:t}},He=function(e,t,n){return{type:Se,pageId:e,noteId:t,newNoteText:n}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(j.a)(Object(j.a)({},e),{},{pages:Object(ge.a)(t.pages)});case _e:return Object(j.a)(Object(j.a)({},e),{},{editMode:t.isActivate});case Te:return Object(j.a)(Object(j.a)({},e),{},{tabColorEditMode:t.isActivate});case ve:return Object(j.a)(Object(j.a)({},e),{},{createNewPageMode:t.isActivate});case Ee:return Object(j.a)(Object(j.a)({},e),{},{pages:[].concat(Object(ge.a)(e.pages),[t.page])});case Ce:var n=e.pages.find((function(e){return e._id===t.pageId}));n.notes.push(t.note);var r=e.pages.map((function(e){return e._id===t.pageId?n:e}));return Object(j.a)(Object(j.a)({},e),{},{pages:Object(ge.a)(r)});case we:var a=e.pages.map((function(e){return e._id===t.pageId?t.page:e}));return Object(j.a)(Object(j.a)({},e),{},{pages:Object(ge.a)(a)});case Pe:var o=e.pages.map((function(e){return e._id===t.pageId?t.page:e}));return Object(j.a)(Object(j.a)({},e),{},{pages:Object(ge.a)(o)});case Me:var i=e.pages.filter((function(e){return e._id!==t.pageId}));return Object(j.a)(Object(j.a)({},e),{},{pages:Object(ge.a)(i)});case ye:var c=e.pages.find((function(e){return e._id===t.pageId}));c.title=t.newPageTitle;var s=e.pages.map((function(e){return e._id===t.pageId?c:e}));return Object(j.a)(Object(j.a)({},e),{},{pages:Object(ge.a)(s)});case ke:var u=e.pages.find((function(e){return e._id===t.pageId})),d=u.notes.filter((function(e){return e._id!==t.noteId}));u.notes=d;var l=e.pages.map((function(e){return e._id===t.pageId?u:e}));return Object(j.a)(Object(j.a)({},e),{},{pages:Object(ge.a)(l)});case Se:var b=e.pages.find((function(e){return e._id===t.pageId})),p=b.notes.map((function(e){return e._id===t.noteId?Object(j.a)(Object(j.a)({},e),{},{content:t.newNoteText}):e})),g=e.pages.map((function(e){return e._id===t.pageId?Object(j.a)(Object(j.a)({},e),{},{notes:p}):e}));return Object(j.a)(Object(j.a)({},e),{},{pages:Object(ge.a)(g)});default:return e}},Xe=n(94),Je=n.n(Xe),Ye=n(49),Ze=n.n(Ye),ze=Object(g.a)({form:"createNewNote"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,className:Je.a.newNoteForm,children:[Object(r.jsx)("div",{children:Object(r.jsx)(p.a,{name:"newNote",component:"input",placeholder:"inter your note",className:Je.a.newNoteInput,autoFocus:"true"})}),Object(r.jsx)("button",{type:"submit",className:Je.a.newNoteBtn,children:Object(r.jsx)(Ze.a,{})})]})})),Ke=Object(w.b)((function(e){return{userId:e.auth.userId}}),{setEditModeForNote:Ae,addNewNote:function(e,t,n){return xe(!1),function(){var r=Object(pe.a)(be.a.mark((function r(a){var o;return be.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,W(e,t,n);case 2:o=r.sent,a(Fe(t,o)),xe(!0);case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return Object(r.jsx)(ze,{onSubmit:function(t){e.addNewNote(e.userId,e.pageId,t.newNote),e.setEditModeForNote(!1)},setEditModeForNote:e.setEditModeForNote})})),$e=n(162),Qe=n.n($e),et=function(e){return Object(r.jsx)("button",{className:Qe.a.addNewPageButton,onClick:function(){e.setCreateNewPageMode(!0)},children:Object(r.jsx)(Ze.a,{})})},tt=n(95),nt=n.n(tt),rt=Object(g.a)({form:"createNewNote"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,className:nt.a.newPageForm,children:[Object(r.jsx)("div",{children:Object(r.jsx)(p.a,{name:"newPage",component:"input",placeholder:"inter page title",autoFocus:"true",className:nt.a.newPageInput})}),Object(r.jsx)("button",{type:"submit",className:nt.a.newPageBtn,children:Object(r.jsx)(Ze.a,{})})]})})),at=Object(w.b)((function(e){return{setCreateNewPageMode:e.notes.createNewPageMode,userId:e.auth.userId}}),{setCreateNewPageMode:Le,addNewPage:function(e,t){return me(!1),function(){var n=Object(pe.a)(be.a.mark((function n(r){var a;return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A(e,t);case 2:a=n.sent,r({type:Ee,page:a}),me(!0);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return Object(r.jsx)(rt,{onSubmit:function(t){e.addNewPage(e.userId,t.newPage),e.setCreateNewPageMode(!1)},setCreateNewPageMode:e.setCreateNewPageMode})})),ot=n(57),it=n.n(ot),ct=function(e){var t=Object(a.useState)(null),n=Object(re.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(null),s=Object(re.a)(c,2),u=s[0],d=s[1];return Object(r.jsxs)("div",{className:it.a.setTabColor,children:[Object(r.jsx)("span",{onClick:function(){e.setTabColorEditMode(!1)},children:"Close"}),Object(r.jsxs)("div",{className:it.a.setColorItem,children:[Object(r.jsx)("input",{type:"color",name:"BookmarkColor",value:o,onChange:function(e){return i(e.target.value)}}),Object(r.jsx)("label",{for:"pageColor",children:"Bookmark background color"})]}),Object(r.jsxs)("div",{className:it.a.setColorItem,children:[Object(r.jsx)("input",{type:"color",name:"BookmarkTextColor",value:u,onChange:function(e){return d(e.target.value)}}),Object(r.jsx)("label",{for:"pageColor",children:"Bookmark text color"})]}),Object(r.jsx)("button",{onClick:function(){e.setTabColorEditMode(!1),e.setTabColor(e.userId,e.pageId,o,u)},children:"Save"})]})},st=n(353),ut=n(355),dt=n(356),lt=n(357),jt=n(351),bt=n(166),pt=n(352),gt=n(163),Ot=n.n(gt),ft=Object(w.b)((function(e){return{userId:e.auth.userId}}),{setTabColorEditMode:Re,deletePage:function(e,t){return function(){var n=Object(pe.a)(be.a.mark((function n(r){return be.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F(e,t);case 2:"ok"===n.sent.result&&r(Ge(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=o.a.useState(null),n=Object(re.a)(t,2),a=n[0],i=n[1],c=function(){i(null)};return Object(r.jsxs)("div",{children:[Object(r.jsx)(jt.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},className:it.a.menuBtn,children:Object(r.jsx)(Ot.a,{className:it.a.menuBtn})}),Object(r.jsxs)(bt.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:c,children:[Object(r.jsx)(pt.a,{onClick:function(){c(),e.setTabColorEditMode(!0)},children:"Bookmark color settings"}),Object(r.jsx)(pt.a,{onClick:function(){e.setPageTitleEditMode(!0),c()},children:"Edit page title"}),Object(r.jsx)(pt.a,{onClick:function(){e.deletePage(e.userId,e.pageId),c()},children:"Delete this page"})]})]})})),ht=Object(d.a)((function(e){return{text:{padding:e.spacing(2,2,0)},paper:{paddingBottom:50},list:{marginBottom:e.spacing(2)},subheader:{backgroundColor:e.palette.background.paper},appBar:{top:"auto",bottom:0},grow:{flexGrow:1},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"},exitBtn:{textDecoration:"underline"}}})),mt=Object(w.b)((function(e){return{userId:e.auth.userId}}),{setEditModeForNote:Ae,logout:function(e){return function(t){S(e).then((function(e){"ok"===e.result&&(delete localStorage.id,t($()))}))}}})((function(e){var t=ht();return Object(r.jsxs)(o.a.Fragment,{children:[Object(r.jsx)(st.a,{}),Object(r.jsx)(ae.a,{position:"fixed",color:"primary",className:t.appBar,children:Object(r.jsxs)(ut.a,{children:[Object(r.jsx)(dt.a,{edge:"start",color:"inherit","aria-label":"open drawer",children:Object(r.jsx)(ft,{pageId:e.pageId,setPageTitleEditMode:e.setPageTitleEditMode})}),Object(r.jsx)(lt.a,{color:"secondary","aria-label":"add",className:t.fabButton,onClick:function(){e.setEditModeForNote(!0)},children:Object(r.jsx)(Ze.a,{})}),Object(r.jsx)("div",{className:t.grow}),Object(r.jsx)(dt.a,{color:"inherit",className:t.exitBtn,onClick:function(){e.logout(e.userId)},children:"Exit"})]})})]})})),xt=n(164),Nt=n.n(xt),It=Object(w.b)((function(e){return{userId:e.auth.userId}}),{deleteNote:function(e,t,n){return function(){var r=Object(pe.a)(be.a.mark((function r(a){return be.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,G(e,t,n);case 2:"ok"===r.sent.result&&a(De(t,n));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=o.a.useState(null),n=Object(re.a)(t,2),a=n[0],i=n[1],c=function(){i(null)};return Object(r.jsxs)("div",{children:[Object(r.jsx)(jt.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},children:Object(r.jsx)(dt.a,{edge:"end",color:"inherit",children:Object(r.jsx)(Nt.a,{})})}),Object(r.jsxs)(bt.a,{id:"simple-menu",anchorEl:a,keepMounted:!0,open:Boolean(a),onClose:c,children:[Object(r.jsx)(pt.a,{onClick:function(){e.setNoteEditMode(!0),e.setNoteId(e.noteId),c()},children:"Color settings"}),Object(r.jsx)(pt.a,{onClick:function(){e.setNoteTextEditMode(!0),e.setNoteId(e.noteId),c()},children:"Edit this note"}),Object(r.jsx)(pt.a,{onClick:function(){e.deleteNote(e.userId,e.pageId,e.noteId),c()},style:{backgroundColor:"#fc8b98"},children:"Delete this note"})]})]})})),_t=n(96),vt=n.n(_t),Et=Object(w.b)((function(e){return{userId:e.auth.userId}}),{setNoteColor:function(e,t,n,r,a){return function(){var o=Object(pe.a)(be.a.mark((function o(i){var c;return be.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,D(e,t,n,r,a);case 2:c=o.sent,i(Ve(t,n,c));case 4:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}})((function(e){var t=Object(a.useState)(null),n=Object(re.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(null),s=Object(re.a)(c,2),u=s[0],d=s[1];return Object(r.jsxs)("div",{className:vt.a.setNoteColor,children:[Object(r.jsx)("h2",{children:"Note color Settings"}),Object(r.jsx)("span",{onClick:function(){e.setNoteEditMode(!1)},children:"Close"}),Object(r.jsxs)("div",{className:vt.a.setColorItem,children:[Object(r.jsx)("input",{type:"color",name:"noteColor",value:o,onChange:function(e){return i(e.target.value)}}),Object(r.jsx)("label",{for:"noteColor",children:"Note background color"})]}),Object(r.jsxs)("div",{className:vt.a.setColorItem,children:[Object(r.jsx)("input",{type:"color",name:"noteTextColor",value:u,onChange:function(e){return d(e.target.value)}}),Object(r.jsx)("label",{for:"noteTextColor",children:"Note text color"})]}),Object(r.jsx)("button",{onClick:function(){e.setNoteColor(e.userId,e.pageId,e.noteId,o,u),e.setNoteEditMode(!1)},children:"Save"})]})})),Ct=n(97),Tt=n.n(Ct),wt=Object(g.a)({form:"editPageTitle"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,className:Tt.a.editPageTitleForm,children:[Object(r.jsx)("span",{onClick:function(){e.setPageTitleEditMode(!1)},children:"Close"}),Object(r.jsx)("h2",{children:"Edit page title"}),Object(r.jsx)("div",{children:Object(r.jsx)(p.a,{name:"editPageTitle",component:"input",placeholder:"inter new title",className:Tt.a.editPageTitleInput,autoFocus:"true"})}),Object(r.jsx)("button",{type:"submit",className:Tt.a.editPageTitleBtn,children:"Save"})]})})),Pt=Object(w.b)((function(e){return{userId:e.auth.userId}}),{editPageTitle:function(e,t,n){return function(){var r=Object(pe.a)(be.a.mark((function r(a){var o;return be.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,R(e,t,n);case 2:o=r.sent,a(qe(t,o));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){return Object(r.jsx)(wt,{onSubmit:function(t){e.editPageTitle(e.userId,e.pageId,t.editPageTitle),e.setPageTitleEditMode(!1)},setPageTitleEditMode:e.setPageTitleEditMode})})),Mt=n(98),kt=n.n(Mt),yt=Object(g.a)({form:"editPageTitle"})((function(e){return Object(r.jsxs)("form",{onSubmit:e.handleSubmit,className:kt.a.editNoteForm,children:[Object(r.jsx)("span",{onClick:function(){e.setNoteTextEditMode(!1)},children:"Close"}),Object(r.jsx)("h2",{children:"Edit Note"}),Object(r.jsx)("div",{children:Object(r.jsx)(p.a,{name:"editNote",component:"input",placeholder:"inter new text",className:kt.a.editNoteInput,autoFocus:"true"})}),Object(r.jsx)("button",{type:"submit",className:kt.a.editNoteBtn,children:"Save"})]})})),St=Object(w.b)((function(e){return{userId:e.auth.userId}}),{editNoteText:function(e,t,n,r){return function(){var a=Object(pe.a)(be.a.mark((function a(o){var i;return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,V(e,t,n,r);case 2:i=a.sent,o(He(t,n,i));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return Object(r.jsx)(yt,{onSubmit:function(t){e.editNoteText(e.userId,e.pageId,e.noteId,t.editNote),e.setNoteTextEditMode(!1)},setNoteTextEditMode:e.setNoteTextEditMode})})),Bt=n(16);function At(e){var t=e.children,n=e.value,a=e.index,o=Object(b.a)(e,["children","value","index"]);return n===a&&e.setPageId(e.pages[a]._id),Object(r.jsx)("div",Object(j.a)(Object(j.a)({role:"tabpanel",hidden:n!==a,id:"scrollable-auto-tabpanel-".concat(a),"aria-labelledby":"scrollable-auto-tab-".concat(a)},o),{},{children:n===a&&Object(r.jsx)(se.a,{p:3,children:Object(r.jsx)(ce.a,{children:t})})}))}function Lt(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var Ft=Object(d.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper},list:{wordWrap:"break-word",fontStyle:"italic",marginBottom:"50%"},appBar:{position:"fixed"},appBarItem:{backgroundColor:"red"},paper:{marginTop:"15%"},note:{borderBottom:"1px solid rgba(0,0,0,.25)",margin:"3px"},text:{wordWrap:"break-word"}}})),Rt=Object(Bt.d)(Object(w.b)((function(e){return{pages:e.notes.pages,userId:e.auth.userId,editMode:e.notes.editMode,createNewPageMode:e.notes.createNewPageMode,tabColorEditMode:e.notes.tabColorEditMode,pageIsCreate:e.isLoading.pageIsCreate,noteIscreate:e.isLoading.noteIscreate}}),{getAllPages:function(e){return function(){var t=Object(pe.a)(be.a.mark((function t(n){var r;return be.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:r=t.sent,n({type:Ie,pages:r});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCreateNewPageMode:Le,setTabColor:function(e,t,n,r){return function(){var a=Object(pe.a)(be.a.mark((function a(o){var i;return be.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,L(e,t,n,r);case 2:i=a.sent,o(We(t,i));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},setTabColorEditMode:Re}),m.f)((function(e){var t=Ft(),n=o.a.useState(0),i=Object(re.a)(n,2),c=i[0],s=i[1],u=Object(a.useState)(null),d=Object(re.a)(u,2),b=d[0],p=d[1],g=Object(a.useState)(!1),O=Object(re.a)(g,2),f=O[0],h=O[1],m=Object(a.useState)(null),x=Object(re.a)(m,2),N=x[0],I=x[1],v=Object(a.useState)(!1),E=Object(re.a)(v,2),C=E[0],T=E[1],w=Object(a.useState)(!1),P=Object(re.a)(w,2),M=P[0],k=P[1];Object(a.useEffect)((function(){e.getAllPages(e.userId)}),[]);return Object(r.jsxs)("div",{className:t.root,children:[e.createNewPageMode&&Object(r.jsx)(at,{}),e.tabColorEditMode&&Object(r.jsx)(ct,{setTabColor:e.setTabColor,userId:e.userId,pageId:b,setTabColorEditMode:e.setTabColorEditMode}),f&&Object(r.jsx)(Et,{setNoteEditMode:h,pageId:b,noteId:N}),M&&Object(r.jsx)(St,{setNoteTextEditMode:k,pageId:b,noteId:N}),C&&Object(r.jsx)(Pt,{pageId:b,setPageTitleEditMode:T,initialValues:e.pages}),Object(r.jsx)(ae.a,{position:"static",color:"default",className:t.appBar,children:Object(r.jsxs)(oe.a,{value:c,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",children:[0===e.pages.length&&Object(r.jsx)(ie.a,Object(j.a)({label:"Please, create page"},Lt(0))),e.pages.map((function(e,t,n){return Object(r.jsx)(ie.a,Object(j.a)(Object(j.a)({label:e.title},Lt(t)),{},{style:{backgroundColor:e.bookmarkColor}}))})),!e.pageIsCreate&&Object(r.jsx)(_,{}),Object(r.jsx)(et,{setCreateNewPageMode:e.setCreateNewPageMode})]})}),e.pages.map((function(n,a){return Object(r.jsxs)(At,{value:c,index:a,setPageId:p,pages:e.pages,children:[Object(r.jsx)(l.a,{square:!0,className:t.paper,children:Object(r.jsx)(ce.a,{className:t.text,variant:"h5",gutterBottom:!0,children:n.title})}),Object(r.jsxs)(ue.a,{className:t.list,children:[n.notes.map((function(e){return Object(r.jsx)(o.a.Fragment,{children:Object(r.jsxs)(de.a,{button:!0,className:t.note,style:{backgroundColor:e.backgroundColor,color:e.textColor},children:[Object(r.jsx)(le.a,{primary:e.content}),Object(r.jsx)(It,{setNoteEditMode:h,pageId:b,noteId:e._id,setNoteId:I,setNoteTextEditMode:k})]})},e._id)})),e.editMode&&Object(r.jsx)(Ke,{pageId:b})]})]})})),Object(r.jsx)(mt,{pageId:b,setPageTitleEditMode:T})]})})),Wt=Object(Bt.d)(Object(w.b)((function(e){return{isAuth:e.auth.isAuth}}),{setAuth:$}))((function(e){return Object(a.useEffect)((function(){e.setAuth()})),Object(r.jsx)("div",{className:"App",children:e.isAuth?Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(Rt,{})}):Object(r.jsx)(ne,{})})})),Gt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,367)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))},Dt=n(165),Vt=n(365),qt=Object(Bt.c)({auth:Q,notes:Ue,isLoading:Ne,form:Vt.a}),Ht=Object(Bt.e)(qt,Object(Bt.a)(Dt.a));window.store=Ht;var Ut=Ht;c.a.render(Object(r.jsx)(o.a.StrictMode,{children:Object(r.jsx)(h.a,{children:Object(r.jsx)(w.a,{store:Ut,children:Object(r.jsx)(Wt,{})})})}),document.getElementById("root")),Gt()},38:function(e,t,n){e.exports={formTitle:"registration_formTitle__yYRrG",regButton:"registration_regButton__1tT5k",loginButton:"registration_loginButton__rHBAS",error:"registration_error__3pv7G",modalWrapper:"registration_modalWrapper__vlpe-",modal:"registration_modal__3Hkc1"}},57:function(e,t,n){e.exports={menuBtn:"bottomAppBar_menuBtn__1YjwR",setTabColor:"bottomAppBar_setTabColor__1Oafv",setColorItem:"bottomAppBar_setColorItem__1CwPW"}},94:function(e,t,n){e.exports={newNoteForm:"newNoteForm_newNoteForm__1Wy2a",newNoteBtn:"newNoteForm_newNoteBtn__sy0c9",newNoteInput:"newNoteForm_newNoteInput__eBhMa"}},95:function(e,t,n){e.exports={newPageForm:"newTabForm_newPageForm__2OjPa",newPageInput:"newTabForm_newPageInput__3cI2Y"}},96:function(e,t,n){e.exports={setNoteColor:"noteMenu_setNoteColor__1D1qp",setColorItem:"noteMenu_setColorItem__3H4tH"}},97:function(e,t,n){e.exports={editPageTitleForm:"editPageTitleForm_editPageTitleForm__T1Aqp",editPageTitleInput:"editPageTitleForm_editPageTitleInput__OCPBS"}},98:function(e,t,n){e.exports={editNoteForm:"editNoteForm_editNoteForm__1UstM",editNoteInput:"editNoteForm_editNoteInput__3PEx4"}}},[[311,1,2]]]);
//# sourceMappingURL=main.22f4d08f.chunk.js.map