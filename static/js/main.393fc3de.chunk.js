(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{118:function(e,t,n){e.exports={preloader:"preloader_preloader__3qEnX",smallPreloader:"preloader_smallPreloader__3XE3o"}},162:function(e,t,n){e.exports={showAllPagesButton:"tabsNotes_showAllPagesButton__1XTxA",addNewPageButton:"tabsNotes_addNewPageButton__1bJA4",color:"tabsNotes_color__1gl_N"}},186:function(e,t,n){},187:function(e,t,n){},309:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),o=n.n(r),i=n(14),c=n.n(i),s=(n(186),n(187),n(39)),u=n.n(s),d=n(349),l=n(312),b=n(8),j=n(93),p=n(362),g=n(360),O=n(359),f=function(e){return(t=1e3,new Promise((function(e){return setTimeout(e,t)}))).then((function(){if(["foo@foo.com","bar@bar.com"].includes(e.email))throw{email:"Email already Exists"}}));var t},m=n(54),h=n(19),x=n(118),N=n.n(x),I=n.p+"static/media/preloader.4695b8d7.gif",_=function(e){return Object(a.jsx)("div",{className:N.a.smallPreloader,children:Object(a.jsx)("img",{src:I,alt:""})})},v=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{type:"submit",disabled:e.pristine||e.submitting||e.isLoading,className:u.a.loginButton,children:e.isLoading?Object(a.jsx)(_,{}):"Login"}),Object(a.jsx)("div",{children:Object(a.jsx)(m.b,{variant:"contained",to:"/my-notepad-react-app/registration",children:"Go to registration"})})]})},E=function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{type:"submit",disabled:e.pristine||e.submitting||e.isLoading,className:u.a.regButton,children:e.isLoading?Object(a.jsx)(_,{}):"Registration"}),Object(a.jsx)("div",{children:Object(a.jsx)(m.b,{variant:"contained",to:"/my-notepad-react-app/login",children:"Go to login"})})]})},C=function(e){var t=e.label,n=e.input,r=e.meta,o=r.touched,i=r.invalid,c=r.error,s=Object(j.a)(e,["label","input","meta"]);return Object(a.jsx)(O.a,Object(b.a)(Object(b.a)({label:t,placeholder:t,error:o&&i,helperText:o&&c},n),s))},T=Object(g.a)({form:"MaterialUiForm",validate:function(e){var t={};return["login","password"].forEach((function(n){e[n]||(t[n]="Required")})),e.email&&!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i.test(e.email)&&(t.email="Invalid email address"),t},asyncValidate:f})((function(e){var t=e.handleSubmit,n=e.pristine,r=e.submitting;return Object(a.jsxs)("form",{onSubmit:t,children:[Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{name:"login",component:C,label:"Login or E-mail"})}),Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{name:"password",component:C,label:"Password"})}),Object(a.jsx)("div",{className:u.a.error,children:e.regOrLogErrorValue}),Object(a.jsxs)("div",{children:[Object(a.jsx)(h.b,{path:"/my-notepad-react-app/login",render:function(){return Object(a.jsx)(v,{pristine:n,submitting:r,isLoading:e.isLoading})}}),Object(a.jsx)(h.b,{path:"/my-notepad-react-app/registration",render:function(){return Object(a.jsx)(E,{pristine:n,submitting:r,isLoading:e.isLoading})}})]})]})})),w=n(13),P=n(161).create({baseURL:"https://thawing-earth-93038.herokuapp.com/myNotepad/",headers:{}}),M=function(e){return P.get("/me/"+e).then((function(e){return e.data}))},y=function(e,t){return P.post("/registration",{login:e,password:t}).then((function(e){return e.data}))},k=function(e,t){return P.patch("/login",{login:e,password:t}).then((function(e){return e.data}))},S=function(e){return P.patch("/logout",{userId:e}).then((function(e){return e.data}))},B=function(e){return P.get("/pages/"+e).then((function(e){return e.data}))},A=function(e,t){return P.post("/pages/"+e,{pageTitle:t}).then((function(e){return e.data}))},L=function(e,t,n,a){return P.patch("/pages/"+e,{pageId:t,tabColor:n,tabTextColor:a}).then((function(e){return e.data}))},F=function(e,t){return P.delete("pages/".concat(e,"/").concat(t)).then((function(e){return e.data}))},R=function(e,t,n){return P.patch("pages/editPageTitle/"+e,{pageId:t,newPageTitle:n}).then((function(e){return e.data}))},W=function(e,t,n){return P.post("/notes/"+e,{pageId:t,noteContent:n}).then((function(e){return e.data}))},G=function(e,t,n){return P.delete("notes/".concat(e,"/").concat(t,"/").concat(n)).then((function(e){return e.data}))},D=function(e,t,n,a,r){return P.patch("/notes/"+e,{pageId:t,noteId:n,noteColor:a,noteTextColor:r}).then((function(e){return e.data}))},V=function(e,t,n,a){return P.patch("notes/editNoteText/"+e,{pageId:t,noteId:n,newNoteText:a}).then((function(e){return e.data}))},q="IS_AUTH",H="REG_OR_LOG_ERROR",U="SET_LOADING",X="IS_REGISTER",J={userId:null,isAuth:!1,regOrLogErrorValue:null,isLoading:!1,isRegister:!1},Y=function(e,t){return{type:q,userId:e,isAuth:t}},Z=function(e){return{type:H,error:e}},z=function(e){return{type:U,isLoading:e}},K=function(e){return{type:X,isRegister:e}},$=function(){var e=localStorage.getItem("id");return function(t){M(e).then((function(e){e.id?(t(Y(e.id,!0)),t(z(!1))):(t(Y(null,!1)),t(z(!1)))}))}},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(b.a)(Object(b.a)({},e),{},{userId:t.userId,isAuth:t.isAuth});case H:return Object(b.a)(Object(b.a)({},e),{},{regOrLogErrorValue:t.error});case U:return Object(b.a)(Object(b.a)({},e),{},{isLoading:t.isLoading});case X:return Object(b.a)(Object(b.a)({},e),{},{isRegister:t.isRegister});default:return e}},ee=function(e){return Object(a.jsx)("div",{className:u.a.modalWrapper,children:Object(a.jsxs)("div",{className:u.a.modal,children:[Object(a.jsx)("h2",{children:"Registration completed successfully, please login "}),Object(a.jsx)("button",{onClick:function(){e.setRegistrationModalWindow(!1)},children:"OK!"})]})})},te=Object(d.a)((function(e){return{root:{display:"flex",flexWrap:"no-wrap",justifyContent:"center",backgroundColor:"#defff2","& > *":{margin:e.spacing(3),width:e.spacing(100),height:e.spacing(100)}}}})),ne=Object(w.b)((function(e){return{regOrLogErrorValue:e.auth.regOrLogErrorValue,isLoading:e.auth.isLoading,isRegister:e.auth.isRegister}}),{registration:function(e,t){return function(n){n(z(!0)),y(e,t).then((function(e){"ok"===e.result?(n(K(!0)),n(Z(null)),n(z(!1))):(n(Z(e.error)),n(z(!1)))}))}},login:function(e,t){return function(n){n(z(!0)),k(e,t).then((function(e){"ok"===e.result?(localStorage.setItem("id",e.userId),n($()),n(Z(null)),n(z(!1))):(n(Z(e.error)),n(z(!1)))}))}},setRegistrationModalWindow:K})((function(e){var t=te(),n=function(t){e.login(t.login,t.password)},r=function(t){e.registration(t.login,t.password)};return e.isRegister?Object(a.jsx)(ee,{setRegistrationModalWindow:e.setRegistrationModalWindow}):Object(a.jsx)("div",{className:t.root,children:Object(a.jsxs)(l.a,{elevation:10,children:[Object(a.jsx)("h1",{className:u.a.formTitle,children:"MyNote"}),Object(a.jsx)("h2",{className:u.a.formTitle,children:"Log in or register"}),Object(a.jsx)(h.b,{path:"/my-notepad-react-app/login",render:function(){return Object(a.jsx)(T,{onSubmit:n,regOrLogErrorValue:e.regOrLogErrorValue,isLoading:e.isLoading})}}),Object(a.jsx)(h.b,{path:"/my-notepad-react-app/registration",render:function(){return Object(a.jsx)(T,{onSubmit:r,regOrLogErrorValue:e.regOrLogErrorValue,isLoading:e.isLoading})}}),Object(a.jsxs)(h.b,{exact:!0,path:"/",children:[" ",Object(a.jsx)(h.a,{to:"/my-notepad-react-app/login"})," "]}),Object(a.jsxs)(h.b,{exact:!0,path:"/my-notepad-react-app/",children:[" ",Object(a.jsx)(h.a,{to:"/my-notepad-react-app/login"})," "]})]})})})),ae=n(23),re=n(353),oe=n(363),ie=n(357),ce=n(99),se=n(361),ue=n(348),de=n(313),le=n(358),be=n(21),je=n.n(be),pe=n(40),ge=n(27),Oe="isLoading/SET_PAGE_IS_CREATE",fe="isLoading/SET_NOTE_IS_CREATE",me={pageIsCreate:!0,noteIscreate:!0},he=function(e){return{type:Oe,isCreate:e}},xe=function(e){return{type:fe,isCreate:e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return Object(b.a)(Object(b.a)({},e),{},{pageIsCreate:t.isCreate});case fe:return Object(b.a)(Object(b.a)({},e),{},{noteIscreate:t.isCreate});default:return e}},Ie="SET_PAGES_IN_STATE",_e="SET_EDIT_MODE",ve="SET_CREATE_NEW_PAGE_MODE",Ee="SET_NEW_PAGE_IN_STATE",Ce="SET_NEW_NOTE_IN_STATE",Te="SET_TAB_COLOR_EDIT_MODE",we="SET_TAB_COLOR",Pe="SET_NOTE_COLOR",Me="DELETE_PAGE",ye="DELETE_NOTE",ke="SET_NEW_PAGE_TITLE",Se="SET_NEW_NOTE_TEXT",Be={pages:[],editMode:!1,createNewPageMode:!1,tabColorEditMode:!1},Ae=function(e){return{type:_e,isActivate:e}},Le=function(e){return{type:ve,isActivate:e}},Fe=function(e,t){return{type:Ce,pageId:e,note:t}},Re=function(e){return{type:Te,isActivate:e}},We=function(e,t){return{type:we,pageId:e,page:t}},Ge=function(e){return{type:Me,pageId:e}},De=function(e,t){return{type:ye,pageId:e,noteId:t}},Ve=function(e,t,n){return{type:Pe,pageId:e,noteId:t,page:n}},qe=function(e,t){return{type:ke,pageId:e,newPageTitle:t}},He=function(e,t,n){return{type:Se,pageId:e,noteId:t,newNoteText:n}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:return Object(b.a)(Object(b.a)({},e),{},{pages:Object(ge.a)(t.pages)});case _e:return Object(b.a)(Object(b.a)({},e),{},{editMode:t.isActivate});case Te:return Object(b.a)(Object(b.a)({},e),{},{tabColorEditMode:t.isActivate});case ve:return Object(b.a)(Object(b.a)({},e),{},{createNewPageMode:t.isActivate});case Ee:return Object(b.a)(Object(b.a)({},e),{},{pages:[].concat(Object(ge.a)(e.pages),[t.page])});case Ce:var n=e.pages.find((function(e){return e._id===t.pageId}));n.notes.push(t.note);var a=e.pages.map((function(e){return e._id===t.pageId?n:e}));return Object(b.a)(Object(b.a)({},e),{},{pages:Object(ge.a)(a)});case we:var r=e.pages.map((function(e){return e._id===t.pageId?t.page:e}));return Object(b.a)(Object(b.a)({},e),{},{pages:Object(ge.a)(r)});case Pe:var o=e.pages.map((function(e){return e._id===t.pageId?t.page:e}));return Object(b.a)(Object(b.a)({},e),{},{pages:Object(ge.a)(o)});case Me:var i=e.pages.filter((function(e){return e._id!==t.pageId}));return Object(b.a)(Object(b.a)({},e),{},{pages:Object(ge.a)(i)});case ke:var c=e.pages.find((function(e){return e._id===t.pageId}));c.title=t.newPageTitle;var s=e.pages.map((function(e){return e._id===t.pageId?c:e}));return Object(b.a)(Object(b.a)({},e),{},{pages:Object(ge.a)(s)});case ye:var u=e.pages.find((function(e){return e._id===t.pageId})),d=u.notes.filter((function(e){return e._id!==t.noteId}));u.notes=d;var l=e.pages.map((function(e){return e._id===t.pageId?u:e}));return Object(b.a)(Object(b.a)({},e),{},{pages:Object(ge.a)(l)});case Se:var j=e.pages.find((function(e){return e._id===t.pageId})),p=j.notes.map((function(e){return e._id===t.noteId?Object(b.a)(Object(b.a)({},e),{},{content:t.newNoteText}):e})),g=e.pages.map((function(e){return e._id===t.pageId?Object(b.a)(Object(b.a)({},e),{},{notes:p}):e}));return Object(b.a)(Object(b.a)({},e),{},{pages:Object(ge.a)(g)});default:return e}},Xe=n(95),Je=n.n(Xe),Ye=n(49),Ze=n.n(Ye),ze=Object(g.a)({form:"createNewNote"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,className:Je.a.newNoteForm,children:[Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{name:"newNote",component:"input",placeholder:"inter your note",className:Je.a.newNoteInput,autoFocus:"true"})}),Object(a.jsx)("button",{type:"submit",className:Je.a.newNoteBtn,children:Object(a.jsx)(Ze.a,{})})]})})),Ke=Object(w.b)((function(e){return{userId:e.auth.userId}}),{setEditModeForNote:Ae,addNewNote:function(e,t,n){return xe(!1),function(){var a=Object(pe.a)(je.a.mark((function a(r){var o;return je.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,W(e,t,n);case 2:o=a.sent,r(Fe(t,o)),xe(!0);case 5:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return Object(a.jsx)(ze,{onSubmit:function(t){e.addNewNote(e.userId,e.pageId,t.newNote),e.setEditModeForNote(!1)},setEditModeForNote:e.setEditModeForNote})})),$e=n(162),Qe=n.n($e),et=function(e){return Object(a.jsx)("button",{className:Qe.a.addNewPageButton,onClick:function(){e.setCreateNewPageMode(!0)},children:Object(a.jsx)(Ze.a,{})})},tt=n(96),nt=n.n(tt),at=Object(g.a)({form:"createNewNote"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,className:nt.a.newPageForm,children:[Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{name:"newPage",component:"input",placeholder:"inter page title",autoFocus:"true",className:nt.a.newPageInput})}),Object(a.jsx)("button",{type:"submit",className:nt.a.newPageBtn,children:Object(a.jsx)(Ze.a,{})})]})})),rt=Object(w.b)((function(e){return{setCreateNewPageMode:e.notes.createNewPageMode,userId:e.auth.userId}}),{setCreateNewPageMode:Le,addNewPage:function(e,t){return he(!1),function(){var n=Object(pe.a)(je.a.mark((function n(a){var r;return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,A(e,t);case 2:r=n.sent,a({type:Ee,page:r}),he(!0);case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){return Object(a.jsx)(at,{onSubmit:function(t){e.addNewPage(e.userId,t.newPage),e.setCreateNewPageMode(!1)},setCreateNewPageMode:e.setCreateNewPageMode})})),ot=n(57),it=n.n(ot),ct=function(e){var t=Object(r.useState)(null),n=Object(ae.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(null),s=Object(ae.a)(c,2),u=s[0],d=s[1];return Object(a.jsxs)("div",{className:it.a.setTabColor,children:[Object(a.jsx)("span",{onClick:function(){e.setTabColorEditMode(!1)},children:"Close"}),Object(a.jsxs)("div",{className:it.a.setColorItem,children:[Object(a.jsx)("input",{type:"color",name:"BookmarkColor",value:o,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("label",{for:"pageColor",children:"Bookmark background color"})]}),Object(a.jsxs)("div",{className:it.a.setColorItem,children:[Object(a.jsx)("input",{type:"color",name:"BookmarkTextColor",value:u,onChange:function(e){return d(e.target.value)}}),Object(a.jsx)("label",{for:"pageColor",children:"Bookmark text color"})]}),Object(a.jsx)("button",{onClick:function(){e.setTabColorEditMode(!1),e.setTabColor(e.userId,e.pageId,o,u)},children:"Save"})]})},st=n(352),ut=n(354),dt=n(355),lt=n(356),bt=n(350),jt=n(165),pt=n(351),gt=n(163),Ot=n.n(gt),ft=Object(w.b)((function(e){return{userId:e.auth.userId}}),{setTabColorEditMode:Re,deletePage:function(e,t){return function(){var n=Object(pe.a)(je.a.mark((function n(a){return je.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,F(e,t);case 2:"ok"===n.sent.result&&a(Ge(t));case 4:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}})((function(e){var t=o.a.useState(null),n=Object(ae.a)(t,2),r=n[0],i=n[1],c=function(){i(null)};return Object(a.jsxs)("div",{children:[Object(a.jsx)(bt.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)},className:it.a.menuBtn,children:Object(a.jsx)(Ot.a,{className:it.a.menuBtn})}),Object(a.jsxs)(jt.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:c,children:[Object(a.jsx)(pt.a,{onClick:function(){c(),e.setTabColorEditMode(!0)},children:"Bookmark color settings"}),Object(a.jsx)(pt.a,{onClick:function(){e.setPageTitleEditMode(!0),c()},children:"Edit page title"}),Object(a.jsx)(pt.a,{onClick:function(){e.deletePage(e.userId,e.pageId),c()},children:"Delete this page"})]})]})})),mt=Object(d.a)((function(e){return{text:{padding:e.spacing(2,2,0)},paper:{paddingBottom:50},list:{marginBottom:e.spacing(2)},subheader:{backgroundColor:e.palette.background.paper},appBar:{top:"auto",bottom:0},grow:{flexGrow:1},fabButton:{position:"absolute",zIndex:1,top:-30,left:0,right:0,margin:"0 auto"},exitBtn:{textDecoration:"underline"}}})),ht=Object(w.b)((function(e){return{userId:e.auth.userId}}),{setEditModeForNote:Ae,logout:function(e){return function(t){S(e).then((function(e){"ok"===e.result&&(delete localStorage.id,t($()))}))}}})((function(e){var t=mt();return Object(a.jsxs)(o.a.Fragment,{children:[Object(a.jsx)(st.a,{}),Object(a.jsx)(re.a,{position:"fixed",color:"primary",className:t.appBar,children:Object(a.jsxs)(ut.a,{children:[Object(a.jsx)(dt.a,{edge:"start",color:"inherit","aria-label":"open drawer",children:Object(a.jsx)(ft,{pageId:e.pageId,setPageTitleEditMode:e.setPageTitleEditMode})}),Object(a.jsx)(lt.a,{color:"secondary","aria-label":"add",className:t.fabButton,onClick:function(){e.setEditModeForNote(!0)},children:Object(a.jsx)(Ze.a,{})}),Object(a.jsx)("div",{className:t.grow}),Object(a.jsx)(dt.a,{color:"inherit",className:t.exitBtn,onClick:function(){e.logout(e.userId)},children:"Exit"})]})})]})})),xt=n(64),Nt=n.n(xt),It=Object(w.b)((function(e){return{userId:e.auth.userId}}),{deleteNote:function(e,t,n){return function(){var a=Object(pe.a)(je.a.mark((function a(r){return je.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,G(e,t,n);case 2:"ok"===a.sent.result&&r(De(t,n));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=o.a.useState(null),n=Object(ae.a)(t,2),r=n[0],i=n[1],c=function(){i(null)};return Object(a.jsxs)("div",{className:Nt.a.noteMenuBtnWrap,children:[Object(a.jsx)(bt.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:function(e){i(e.currentTarget)}}),Object(a.jsxs)(jt.a,{id:"simple-menu",anchorEl:r,keepMounted:!0,open:Boolean(r),onClose:c,children:[Object(a.jsx)(pt.a,{onClick:function(){e.setNoteEditMode(!0),e.setNoteId(e.noteId),c()},children:"Color settings"}),Object(a.jsx)(pt.a,{onClick:function(){e.setNoteTextEditMode(!0),e.setNoteId(e.noteId),c()},children:"Edit this note"}),Object(a.jsx)(pt.a,{onClick:function(){e.deleteNote(e.userId,e.pageId,e.noteId),c()},style:{backgroundColor:"#fc8b98"},children:"Delete this note"})]})]})})),_t=Object(w.b)((function(e){return{userId:e.auth.userId}}),{setNoteColor:function(e,t,n,a,r){return function(){var o=Object(pe.a)(je.a.mark((function o(i){var c;return je.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,D(e,t,n,a,r);case 2:c=o.sent,i(Ve(t,n,c));case 4:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()}})((function(e){var t=Object(r.useState)(null),n=Object(ae.a)(t,2),o=n[0],i=n[1],c=Object(r.useState)(null),s=Object(ae.a)(c,2),u=s[0],d=s[1];return Object(a.jsxs)("div",{className:Nt.a.setNoteColor,children:[Object(a.jsx)("h2",{children:"Note color Settings"}),Object(a.jsx)("span",{onClick:function(){e.setNoteEditMode(!1)},children:"Close"}),Object(a.jsxs)("div",{className:Nt.a.setColorItem,children:[Object(a.jsx)("input",{type:"color",name:"noteColor",value:o,onChange:function(e){return i(e.target.value)}}),Object(a.jsx)("label",{for:"noteColor",children:"Note background color"})]}),Object(a.jsxs)("div",{className:Nt.a.setColorItem,children:[Object(a.jsx)("input",{type:"color",name:"noteTextColor",value:u,onChange:function(e){return d(e.target.value)}}),Object(a.jsx)("label",{for:"noteTextColor",children:"Note text color"})]}),Object(a.jsx)("button",{onClick:function(){e.setNoteColor(e.userId,e.pageId,e.noteId,o,u),e.setNoteEditMode(!1)},children:"Save"})]})})),vt=n(97),Et=n.n(vt),Ct=Object(g.a)({form:"editPageTitle"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,className:Et.a.editPageTitleForm,children:[Object(a.jsx)("span",{onClick:function(){e.setPageTitleEditMode(!1)},children:"Close"}),Object(a.jsx)("h2",{children:"Edit page title"}),Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{name:"editPageTitle",component:"input",placeholder:"inter new title",className:Et.a.editPageTitleInput,autoFocus:!0})}),Object(a.jsx)("button",{type:"submit",className:Et.a.editPageTitleBtn,children:"Save"})]})})),Tt=Object(w.b)((function(e){return{userId:e.auth.userId,pages:e.notes.pages}}),{editPageTitle:function(e,t,n){return function(){var a=Object(pe.a)(je.a.mark((function a(r){var o;return je.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,R(e,t,n);case 2:o=a.sent,r(qe(t,o));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=Object(ge.a)(e.pages).find((function(t){return t._id===e.pageId})).title;return Object(a.jsx)(Ct,{onSubmit:function(t){e.editPageTitle(e.userId,e.pageId,t.editPageTitle),e.setPageTitleEditMode(!1)},setPageTitleEditMode:e.setPageTitleEditMode,initialValues:{editPageTitle:t}})})),wt=n(98),Pt=n.n(wt),Mt=Object(g.a)({form:"editNoteForm"})((function(e){return Object(a.jsxs)("form",{onSubmit:e.handleSubmit,className:Pt.a.editNoteForm,children:[Object(a.jsx)("span",{onClick:function(){e.setNoteTextEditMode(!1)},children:"Close"}),Object(a.jsx)("h2",{children:"Edit Note"}),Object(a.jsx)("div",{children:Object(a.jsx)(p.a,{name:"editNote",component:"input",placeholder:"inter new text",className:Pt.a.editNoteInput,autoFocus:!0})}),Object(a.jsx)("button",{type:"submit",className:Pt.a.editNoteBtn,children:"Save"})]})})),yt=Object(w.b)((function(e){return{userId:e.auth.userId,pages:e.notes.pages}}),{editNoteText:function(e,t,n,a){return function(){var r=Object(pe.a)(je.a.mark((function r(o){var i;return je.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,V(e,t,n,a);case 2:i=r.sent,o(He(t,n,i));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=Object(ge.a)(e.pages).find((function(t){return t._id===e.pageId})).notes.find((function(t){return t._id===e.noteId})).content;return Object(a.jsx)(Mt,{onSubmit:function(t){e.editNoteText(e.userId,e.pageId,e.noteId,t.editNote),e.setNoteTextEditMode(!1)},setNoteTextEditMode:e.setNoteTextEditMode,initialValues:{editNote:t}})})),kt=n(16);function St(e){var t=e.children,n=e.value,r=e.index,o=Object(j.a)(e,["children","value","index"]);return n===r&&e.setPageId(e.pages[r]._id),Object(a.jsx)("div",Object(b.a)(Object(b.a)({role:"tabpanel",hidden:n!==r,id:"scrollable-auto-tabpanel-".concat(r),"aria-labelledby":"scrollable-auto-tab-".concat(r)},o),{},{children:n===r&&Object(a.jsx)(se.a,{p:3,children:Object(a.jsx)(ce.a,{children:t})})}))}function Bt(e){return{id:"scrollable-auto-tab-".concat(e),"aria-controls":"scrollable-auto-tabpanel-".concat(e)}}var At=Object(d.a)((function(e){return{root:{flexGrow:1,width:"100%",backgroundColor:e.palette.background.paper},list:{wordWrap:"break-word",fontStyle:"italic",marginBottom:"50%"},appBar:{position:"fixed"},appBarItem:{backgroundColor:"red"},paper:{marginTop:"15%"},note:{borderBottom:"1px solid rgba(0,0,0,.25)",margin:"3px",padding:"8px 0"},text:{wordWrap:"break-word"}}})),Lt=Object(kt.d)(Object(w.b)((function(e){return{pages:e.notes.pages,userId:e.auth.userId,editMode:e.notes.editMode,createNewPageMode:e.notes.createNewPageMode,tabColorEditMode:e.notes.tabColorEditMode,pageIsCreate:e.isLoading.pageIsCreate,noteIscreate:e.isLoading.noteIscreate}}),{getAllPages:function(e){return function(){var t=Object(pe.a)(je.a.mark((function t(n){var a;return je.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,B(e);case 2:a=t.sent,n({type:Ie,pages:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCreateNewPageMode:Le,setTabColor:function(e,t,n,a){return function(){var r=Object(pe.a)(je.a.mark((function r(o){var i;return je.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,L(e,t,n,a);case 2:i=r.sent,o(We(t,i));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},setTabColorEditMode:Re}),h.f)((function(e){var t=At(),n=o.a.useState(0),i=Object(ae.a)(n,2),c=i[0],s=i[1],u=Object(r.useState)(null),d=Object(ae.a)(u,2),j=d[0],p=d[1],g=Object(r.useState)(!1),O=Object(ae.a)(g,2),f=O[0],m=O[1],h=Object(r.useState)(null),x=Object(ae.a)(h,2),N=x[0],I=x[1],v=Object(r.useState)(!1),E=Object(ae.a)(v,2),C=E[0],T=E[1],w=Object(r.useState)(!1),P=Object(ae.a)(w,2),M=P[0],y=P[1];Object(r.useEffect)((function(){e.getAllPages(e.userId)}),[]);return Object(a.jsxs)("div",{className:t.root,children:[e.createNewPageMode&&Object(a.jsx)(rt,{}),e.tabColorEditMode&&Object(a.jsx)(ct,{setTabColor:e.setTabColor,userId:e.userId,pageId:j,setTabColorEditMode:e.setTabColorEditMode}),f&&Object(a.jsx)(_t,{setNoteEditMode:m,pageId:j,noteId:N}),M&&Object(a.jsx)(yt,{setNoteTextEditMode:y,pageId:j,noteId:N}),C&&Object(a.jsx)(Tt,{pageId:j,setPageTitleEditMode:T}),Object(a.jsx)(re.a,{position:"static",color:"default",className:t.appBar,children:Object(a.jsxs)(oe.a,{value:c,onChange:function(e,t){s(t)},indicatorColor:"primary",textColor:"primary",variant:"scrollable",scrollButtons:"auto","aria-label":"scrollable auto tabs example",children:[0===e.pages.length&&Object(a.jsx)(ie.a,Object(b.a)({label:"Please, create page"},Bt(0))),e.pages.map((function(e,t,n){return Object(a.jsx)(ie.a,Object(b.a)(Object(b.a)({label:e.title},Bt(t)),{},{style:{backgroundColor:e.bookmarkColor}}))})),!e.pageIsCreate&&Object(a.jsx)(_,{}),Object(a.jsx)(et,{setCreateNewPageMode:e.setCreateNewPageMode})]})}),e.pages.map((function(n,r){return Object(a.jsxs)(St,{value:c,index:r,setPageId:p,pages:e.pages,children:[Object(a.jsx)(l.a,{square:!0,className:t.paper,children:Object(a.jsx)(ce.a,{className:t.text,variant:"h5",gutterBottom:!0,children:n.title})}),Object(a.jsxs)(ue.a,{className:t.list,children:[n.notes.map((function(e){return Object(a.jsx)(o.a.Fragment,{children:Object(a.jsxs)(de.a,{button:!0,className:t.note,style:{backgroundColor:e.backgroundColor,color:e.textColor},children:[Object(a.jsx)(le.a,{primary:e.content,className:t.noteContent}),Object(a.jsx)(It,{setNoteEditMode:m,pageId:j,noteId:e._id,setNoteId:I,setNoteTextEditMode:y,className:t.noteBtn})]})},e._id)})),e.editMode&&Object(a.jsx)(Ke,{pageId:j})]})]})})),Object(a.jsx)(ht,{pageId:j,setPageTitleEditMode:T})]})})),Ft=Object(kt.d)(Object(w.b)((function(e){return{isAuth:e.auth.isAuth}}),{setAuth:$}))((function(e){return Object(r.useEffect)((function(){e.setAuth()}),[]),Object(a.jsx)("div",{className:"App",children:e.isAuth?Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(Lt,{})}):Object(a.jsx)(ne,{})})})),Rt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,366)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),o(e),i(e)}))},Wt=n(164),Gt=n(364),Dt=Object(kt.c)({auth:Q,notes:Ue,isLoading:Ne,form:Gt.a}),Vt=Object(kt.e)(Dt,Object(kt.a)(Wt.a));window.store=Vt;var qt=Vt;c.a.render(Object(a.jsx)(o.a.StrictMode,{children:Object(a.jsx)(m.a,{children:Object(a.jsx)(w.a,{store:qt,children:Object(a.jsx)(Ft,{})})})}),document.getElementById("root")),Rt()},39:function(e,t,n){e.exports={formTitle:"registration_formTitle__yYRrG",regButton:"registration_regButton__1tT5k",loginButton:"registration_loginButton__rHBAS",error:"registration_error__3pv7G",modalWrapper:"registration_modalWrapper__vlpe-",modal:"registration_modal__3Hkc1"}},57:function(e,t,n){e.exports={menuBtn:"bottomAppBar_menuBtn__1YjwR",setTabColor:"bottomAppBar_setTabColor__1Oafv",setColorItem:"bottomAppBar_setColorItem__1CwPW"}},64:function(e,t,n){e.exports={setNoteColor:"noteMenu_setNoteColor__1D1qp",setColorItem:"noteMenu_setColorItem__3H4tH",noteMenuBtnWrap:"noteMenu_noteMenuBtnWrap__1c-T2"}},95:function(e,t,n){e.exports={newNoteForm:"newNoteForm_newNoteForm__1Wy2a",newNoteBtn:"newNoteForm_newNoteBtn__sy0c9",newNoteInput:"newNoteForm_newNoteInput__eBhMa"}},96:function(e,t,n){e.exports={newPageForm:"newTabForm_newPageForm__2OjPa",newPageInput:"newTabForm_newPageInput__3cI2Y"}},97:function(e,t,n){e.exports={editPageTitleForm:"editPageTitleForm_editPageTitleForm__T1Aqp",editPageTitleInput:"editPageTitleForm_editPageTitleInput__OCPBS"}},98:function(e,t,n){e.exports={editNoteForm:"editNoteForm_editNoteForm__1UstM",editNoteInput:"editNoteForm_editNoteInput__3PEx4"}}},[[309,1,2]]]);
//# sourceMappingURL=main.393fc3de.chunk.js.map